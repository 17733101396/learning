<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hainu.hrms.mapper.PostMapper">

	<resultMap type="Post" id="PostResult">
		<id property="id" column="post_id" />
		<result property="title" column="title" />
		<result property="content" column="content" />
		<result property="create_date" column="create_date" />
		<result property="admin_id" column="admin_id" />
	</resultMap>
	
	<select id="selectPostsByUser" parameterType="Post" resultMap="PostResult">
		select * from post_tb where admin_id=#{admin_id}
	</select>
	
	<select id="selectPosts" resultMap="PostResult">
		select * from post_tb
	</select>
	
	<delete id="deletePosts" parameterType="java.util.List">
		delete from post_tb
		where
		post_id in (<foreach collection="list"  item="id" separator=",">#{id}</foreach>)
	</delete>
	
	<insert id="addPost" parameterType="Post" useGeneratedKeys="true" keyProperty="post_id">
		insert
		into post_tb(title,content,admin_id,create_date)
		values(#{title},#{content},#{admin_id},#{create_date})
	</insert>

	<update id="updatePost" parameterType="Post">
		update post_tb set
		title=#{title},content=#{content},admin_id=#{admin_id},create_date=#{create_date}
		where post_id=#{id}
	</update>
	
</mapper>